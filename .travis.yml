cache:
  timeout: 7200
  directories:
  - trinitycore
services: docker
language: cpp
compiler:
- clang
before_install:
- git clone -b 3.3.5 --single-branch https://github.com/TrinityCore/TrinityCore
- "./scripts/manage_cache.sh"
install:
- "./scripts/build_3.3.5.sh"
script:
- "./scripts/publish_3.3.5.sh"
deploy:
  provider: releases
  api_key:
    secure: lWXzGsT2IIU/EHiiIqadXBIfXF6Y/Ele6yaF4CeN0ey8sXm9M27hEd6HGdpemoK2RhNwWbbQHJpfpz2QI5FkFpfIHPLCcJUR3yBTCt8KhHq/A46QRwm+HwhkVjLDO2XyWDlbS4odiMxuCkj2l65pvKzA0vYIXpeSZTmEdw0uje/XCYfLklu298KafRDEAxEwDJCymYRe9WlqMTSyndb452tDi+9+W28GhsJ2/WZMzVCHwxXOQH0K8iDoE41CJxlg5mlRnntb+HO6CaUkQSoBLvijrGn2Z4/Kh0CjhsXEWK86ok9vp9QBl+VIl3tEhABAqfjieA8k4ki9rL2qa/PiDvopuv+nwsbt9lEQYQAKQJyzRbn/sHJwxI95io9IXSSdRepdP8nJAxetAOmwWgzTFm+JZ2sGKvULTkHs+6q5GLEzcYNKeiGDQrOeYvDZQ5mhOShB+9zDfNc0tP4VgxO4t7loFqHY5H3bgBWrqxOlgueUqhjpecp22oDYevrKpqyfJ5cLQazpvaxKQV/YWeUS1iNzshVafXUikwM1KK6g+8d7b003kJIhiyJ35rrCELeyglCzyaPgakyab9WXZrWUJOEktmwm0cyKWTGbewC0ovtQNWBha3Cq+4GXcCqwhqdT70pg1150r2CATz8P7pUIQxIaToJeH+tdzNakDWAaCeU=
  on:
    repo: dgonzalezruiz/trinitycore-builds
    tags: true
    all_branches: true
  file_glob: true
  skip_cleanup: true
  file: trinitycore-*.tar.gz
after_deploy:
- "./scripts/push_nami.sh"
env:
  global:
  - secure: hYDrWUZ3rqvALBL/UDsqbN+VzFbG981KCtYj2n7wKvBGcFQF77ronH+aodU344rNJwiCdyaaKz6Y7HqtjuI0QqWhS03/60lfBEpbTJUGVW/VUrTpQyXqIwuP6eNVAmZ/SKEIoBwdiPf8v66n99a0gzqCE2WZaXFytrDAHcHoQGV1VxIvHe3Fv2ygaEQv3oFdQhUQgFPnPekpjZlm86SVKL+DaQ0a6wmLQJ+F/eE+XhQuPa3dqJsGQV7gteewrmQv1tK6v7eXmzi++gEyBtu4Lt+elUkqDTt07jgGp1urBSRjV+IsMCjOgwxaMgut5QMiXa2abSZgZhM7w0TzNYzU5iNUb6l7AaQleSt4pEIyzxiYOcqnv42LbwUxpTM+r+UZnxIg1g3KFdgWe8m9bQHOdGj7uhvsoGN8rwMRy6a5eipbV9aNP/4E+n4O/pZ5FiNy66RAY8t1GlTlOYkbri60p53P0cVELYDQJvbludv0Sg1cLt2cvsv7cqbAztkdNXWtFFrySlyg9zBAr2OotN74J6GVzxbRKCxVAD2LOuF0gRWIPYyX1Onqz/XUsv81NqdapgnNhbQyVUPmK0myZzKvJlYUjB+6up45MKq6VrCTQkqBLTpILc2CjpzxahsBirdA0SIxOpThFKOfAxNpv12pceJ5E2HAbX/Tk5YMKcc8D74=
